const translations = {
    uk: {
        title_checkout: "Оплата замовлення",
        to_pay: "До сплати",
        change_acc: "Змінити акаунт",
        card_label: "Номер картки",
        expiry_label: "Термін",
        cvv_label: "CVV",
        save_card: "Зберегти карту для майбутніх оплат",
        pay_btn: "Оплатити",
        enter_email: "Вхід",
        enter_email_desc: "Введіть ваш Email, щоб продовжити",
        get_code: "Отримати код",
        verify_title: "Підтвердження",
        verify_desc: "Ми надіслали код на",
        verify_btn: "Увійти",
        change_email: "Змінити Email",
        your_cards: "Ваші карти",
        history_title: "Історія транзакцій",
        success_title: "Оплата успішна!",
        success_msg: "Ваш платіж успішно оброблено. Дякуємо.",
        order_num: "Номер замовлення",
        sum_label: "Сума",
        date_label: "Дата та час",
        status_label: "Статус",
        status_paid: "Оплачено",
        return_btn: "Повернутися до магазину",
        receipt_sent: "Чек надіслано на вашу пошту",
        security_check: "Перевірка безпеки",
        security_desc: "Код підтвердження надіслано на",
        confirm_payment: "Підтвердити платіж",
        resend_code: "Надіслати код повторно",
        demo_title: "Демонстрація",
        demo_subtitle: "Створіть тестовий платіж для перевірки шлюзу",
        webhook_label: "Webhook URL",
        redirect_label: "Redirect URL",
        create_invoice_btn: "Створити інвойс",
        creating_btn: "Створення...",
        result_title: "Інвойс створено!",
        open_page_btn: "Перейти до оплати",
        or_copy_link: "або скопіюйте посилання:",
        hero_version: "V1.0.0 STABLE",
        hero_title: "Платежі майбутнього<br>вже сьогодні",
        hero_subtitle: "Швидка інтеграція, безпечні транзакції та зручний інтерфейс для ваших клієнтів. AcquireMock — це ідеальне рішення для навчальних проектів та стартапів.",
        btn_demo: "Демо Тест",
        btn_docs: "API Docs",
        feat_checkout_title: "Smart Checkout",
        feat_checkout_desc: "Адаптивний дизайн, підтримка темної теми та збереження карток для швидких оплат.",
        feat_secure_title: "Secure & Safe",
        feat_secure_desc: "Вбудована перевірка OTP, захист від CSRF атак та безпечна обробка даних.",
        feat_analytics_title: "Real-time Analytics",
        feat_analytics_desc: "Миттєві сповіщення про транзакції на Email та Webhook інтеграція.",
        footer_rights: "© 2025 AcquireMock. All rights reserved."
    },
    en: {
        title_checkout: "Checkout",
        to_pay: "Total Amount",
        change_acc: "Change Account",
        card_label: "Card Number",
        expiry_label: "Expiry",
        cvv_label: "CVV",
        save_card: "Save card for future payments",
        pay_btn: "Pay",
        enter_email: "Login",
        enter_email_desc: "Enter your Email to continue",
        get_code: "Get Code",
        verify_title: "Verification",
        verify_desc: "We sent a code to",
        verify_btn: "Enter",
        change_email: "Change Email",
        your_cards: "Your Cards",
        history_title: "Transaction History",
        success_title: "Payment Successful!",
        success_msg: "Your payment has been processed successfully. Thank you.",
        order_num: "Order Number",
        sum_label: "Amount",
        date_label: "Date & Time",
        status_label: "Status",
        status_paid: "Paid",
        return_btn: "Return to Store",
        receipt_sent: "Receipt sent to your email",
        security_check: "Security Check",
        security_desc: "Verification code sent to",
        confirm_payment: "Confirm Payment",
        resend_code: "Resend Code",
        demo_title: "Demo Dashboard",
        demo_subtitle: "Create a test payment to verify the gateway",
        webhook_label: "Webhook URL",
        redirect_label: "Redirect URL",
        create_invoice_btn: "Create Invoice",
        creating_btn: "Creating...",
        result_title: "Invoice Created!",
        open_page_btn: "Go to Payment Page",
        or_copy_link: "or copy link:",
        hero_version: "V1.0.0 STABLE",
        hero_title: "Future Payments<br>Available Today",
        hero_subtitle: "Fast integration, secure transactions, and a user-friendly interface for your customers. AcquireMock is the perfect solution for educational projects and startups.",
        btn_demo: "Demo Test",
        btn_docs: "API Docs",
        feat_checkout_title: "Smart Checkout",
        feat_checkout_desc: "Adaptive design, dark mode support, and card saving for quick payments.",
        feat_secure_title: "Secure & Safe",
        feat_secure_desc: "Built-in OTP verification, CSRF protection, and secure data processing.",
        feat_analytics_title: "Real-time Analytics",
        feat_analytics_desc: "Instant transaction notifications via Email and Webhook integration.",
        footer_rights: "© 2025 AcquireMock. All rights reserved."
    },
    de: {
        title_checkout: "Kasse",
        to_pay: "Gesamtbetrag",
        change_acc: "Konto wechseln",
        card_label: "Kartennummer",
        expiry_label: "Gültigkeit",
        cvv_label: "CVV",
        save_card: "Karte für zukünftige Zahlungen speichern",
        pay_btn: "Bezahlen",
        enter_email: "Anmeldung",
        enter_email_desc: "Geben Sie Ihre E-Mail ein",
        get_code: "Code erhalten",
        verify_title: "Bestätigung",
        verify_desc: "Code gesendet an",
        verify_btn: "Eingeben",
        change_email: "E-Mail ändern",
        your_cards: "Ihre Karten",
        history_title: "Transaktionsverlauf",
        success_title: "Zahlung erfolgreich!",
        success_msg: "Ihre Zahlung wurde erfolgreich bearbeitet. Danke.",
        order_num: "Bestellnummer",
        sum_label: "Betrag",
        date_label: "Datum & Zeit",
        status_label: "Status",
        status_paid: "Bezahlt",
        return_btn: "Zurück zum Geschäft",
        receipt_sent: "Quittung an Ihre E-Mail gesendet",
        security_check: "Sicherheitsprüfung",
        security_desc: "Bestätigungscode gesendet an",
        confirm_payment: "Zahlung bestätigen",
        resend_code: "Code erneut senden",
        demo_title: "Demo-Dashboard",
        demo_subtitle: "Erstellen Sie eine Testzahlung",
        webhook_label: "Webhook-URL",
        redirect_label: "Weiterleitungs-URL",
        create_invoice_btn: "Rechnung erstellen",
        creating_btn: "Erstellen...",
        result_title: "Rechnung erstellt!",
        open_page_btn: "Zur Zahlungsseite",
        or_copy_link: "oder Link kopieren:",
        hero_version: "V1.0.0 STABLE",
        hero_title: "Zahlungen der Zukunft<br>Schon Heute",
        hero_subtitle: "Schnelle Integration, sichere Transaktionen und eine benutzerfreundliche Oberfläche. AcquireMock ist die perfekte Lösung für Bildungsprojekte und Startups.",
        btn_demo: "Demo Test",
        btn_docs: "API Docs",
        feat_checkout_title: "Smart Checkout",
        feat_checkout_desc: "Adaptives Design, Dark Mode und Kartenspeicherung für schnelle Zahlungen.",
        feat_secure_title: "Sicher & Geschützt",
        feat_secure_desc: "Integrierte OTP-Verifizierung, CSRF-Schutz und sichere Datenverarbeitung.",
        feat_analytics_title: "Echtzeit-Analytik",
        feat_analytics_desc: "Sofortige Transaktionsbenachrichtigungen per E-Mail und Webhook.",
        footer_rights: "© 2025 AcquireMock. Alle Rechte vorbehalten."
    },
    ru: {
        title_checkout: "Оплата заказа",
        to_pay: "К оплате",
        change_acc: "Сменить аккаунт",
        card_label: "Номер карты",
        expiry_label: "Срок",
        cvv_label: "CVV",
        save_card: "Сохранить карту",
        pay_btn: "Оплатить",
        enter_email: "Вход",
        enter_email_desc: "Введите Email для продолжения",
        get_code: "Получить код",
        verify_title: "Подтверждение",
        verify_desc: "Мы отправили код на",
        verify_btn: "Войти",
        change_email: "Сменить Email",
        your_cards: "Ваши карты",
        history_title: "История транзакций",
        success_title: "Оплата успешна!",
        success_msg: "Ваш платеж успешно обработан. Спасибо.",
        order_num: "Номер заказа",
        sum_label: "Сумма",
        date_label: "Дата и время",
        status_label: "Статус",
        status_paid: "Оплачено",
        return_btn: "Вернуться в магазин",
        receipt_sent: "Чек отправлен на вашу почту",
        security_check: "Проверка безопасности",
        security_desc: "Код подтверждения отправлен на",
        confirm_payment: "Подтвердить платеж",
        resend_code: "Отправить код повторно",
        demo_title: "Демонстрация",
        demo_subtitle: "Создайте тестовый платеж для проверки шлюза",
        webhook_label: "Webhook URL",
        redirect_label: "Redirect URL",
        create_invoice_btn: "Создать инвойс",
        creating_btn: "Создание...",
        result_title: "Инвойс создан!",
        open_page_btn: "Перейти к оплате",
        or_copy_link: "или скопируйте ссылку:",
        hero_version: "V1.0.0 STABLE",
        hero_title: "Платежи будущего<br>уже сегодня",
        hero_subtitle: "Быстрая интеграция, безопасные транзакции и удобный интерфейс. AcquireMock — идеальное решение для учебных проектов и стартапов.",
        btn_demo: "Демо Тест",
        btn_docs: "API Docs",
        feat_checkout_title: "Smart Checkout",
        feat_checkout_desc: "Адаптивный дизайн, темная тема и сохранение карт для быстрых оплат.",
        feat_secure_title: "Secure & Safe",
        feat_secure_desc: "Встроенная проверка OTP, защита от CSRF и безопасная обработка данных.",
        feat_analytics_title: "Real-time Analytics",
        feat_analytics_desc: "Мгновенные уведомления о транзакциях на Email и Webhook интеграция.",
        footer_rights: "© 2025 AcquireMock. Все права защищены."
    }
};

function changeLanguage(lang) {
    document.querySelectorAll('[data-i18n]').forEach(elem => {
        const key = elem.getAttribute('data-i18n');
        if (translations[lang] && translations[lang][key]) {
            if (elem.tagName === 'INPUT' && elem.getAttribute('placeholder')) {
            } else {
                elem.innerHTML = translations[lang][key];
            }

            if (key === 'pay_btn') {
                 const amount = elem.getAttribute('data-amount');
                 const currency = elem.getAttribute('data-currency');
                 if(amount && currency) {
                    elem.textContent = translations[lang][key] + ` ${amount} ${currency}`;
                 } else {
                    elem.textContent = translations[lang][key];
                 }
            }
        }
    });

    document.querySelectorAll('.lang-btn').forEach(btn => {
        btn.classList.remove('active');
        if (btn.textContent.toLowerCase() === lang) btn.classList.add('active');
    });

    localStorage.setItem('selectedLang', lang);
}

function toggleTheme() {
    const body = document.body;
    body.classList.toggle('dark-mode');

    const isDark = body.classList.contains('dark-mode');
    localStorage.setItem('theme', isDark ? 'dark' : 'light');
    updateThemeIcon(isDark);
}

function updateThemeIcon(isDark) {
    const sun = document.querySelector('.sun-icon');
    const moon = document.querySelector('.moon-icon');

    if (!sun || !moon) return;

    if (isDark) {
        sun.style.display = 'block';
        moon.style.display = 'none';
    } else {
        sun.style.display = 'none';
        moon.style.display = 'block';
    }
}

document.addEventListener('DOMContentLoaded', () => {
    const savedLang = localStorage.getItem('selectedLang') || 'en';
    changeLanguage(savedLang);

    const savedTheme = localStorage.getItem('theme');
    if (savedTheme === 'dark') {
        document.body.classList.add('dark-mode');
        updateThemeIcon(true);
    } else {
        updateThemeIcon(false);
    }
});